<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ynjh.personal.dao.article.ArticleMapper">
	<!-- 写文章 -->
	<insert id="addUserArticle" parameterType="Article">
		insert into article(usersId,articleTitle,articleTime,articleKey,articleContent,articleUsersType)
			value(#{usersId},#{articleTitle},#{articleTime},#{articleKey},#{articleContent},#{articleUsersType})
	</insert>
	<!-- 删文章 -->
	 <delete id="deleteUserArticle" parameterType="int">
	delete from article where id=#{id}
	</delete>
	<!-- 查看文章(所有) -->
	<select id="selectUserArticle" parameterType="int" resultType="Article">
	select * from article where usersId=#{usersId}
	</select>
	<!-- 查看文章(详细) -->
	<select id="selectArticleById" parameterType="int" resultType="Article">
	select * from article where id=#{id}
	</select>
	
	<!-- 修改文章内容 -->
	<update id="updateArticleContent">
	update article set articleContent=#{articleContent} where id=#{id}
	</update>
	<!--阅读数  -->
	<update id="updateReadNum" >
	update article set articleReadNum=articleReadNum+1 where id=#{id}
	</update>
	<!-- 点赞数 -->
	<update id="updateLikeNum" >
	update article set articleLikeNum=articleLikeNum+1 where id=#{id}
	</update>
	<!-- 分页 -->
	<select id="getMaxRecord" resultType="int">
	select count(*) from article
	</select>
	<select id="getMaxRecordCount" resultType="int">
	select count(*) from article where articleStatus !=4
	</select>
</mapper>
