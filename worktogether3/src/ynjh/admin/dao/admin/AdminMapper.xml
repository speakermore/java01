<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ynjh.admin.dao.admin.AdminMapper">

	<insert id="messagePush" parameterType="Message">	<!-- 消息推送 -->
		<!-- 待定 -->
	</insert>
	<!--禁用普通用户  -->
	<update id="disableUser">
		update user set userStatus=#{userStatus} where userId=#{userId}
	</update>
	<!--禁用企业用户  -->
	<update id="disableCompany">
		update company set company=#{companyStatus} where companyId=#{companyId}
	</update>
	
	<update id="auditResume" parameterType="Resume"><!-- 简历审核 -->
		update resume set <!-- 状态字段待定 --> where id=#{id}
	</update>
	
	<update id="auditArticle" parameterType="Article"><!-- 文章审核 -->
		update article set articleStatus=#{articleStatus} where id=#{articleId}
	</update>
	
	<update id="auditCommentsArticle" parameterType="CommentArticle"><!-- 文章评论审核 -->
		update commentArticle set commentArticleStatus=#{commentArticleStatus} where id=#{id}
	</update>
	
	<update id="auditCompany" parameterType="Company"><!-- 企业资质审核 -->
		update companyIntroduvtion set cmpIntStatus=#{companyStatus} where id=#{companyId}
	</update>
	
	<update id="auditCommentsCompanyAndPeople" parameterType="Discuss"><!-- 个人企业互评论审核 -->
		update discuss set discussStatus=#{discussStatus} where id=#{id}
	</update>
	
	<update id="auditInfo" parameterType="Article"><!-- 新闻审核 -->
		update article set articleStatus=#{articleStatus} where id=#{articleId}
	</update>
	
	<update id="auditOffer" parameterType="Message"><!-- offer审核 -->
		update message set messageSendStatus=#{messageSendStatus} where id=#{id}
	</update>
	
	<update id="auditRecruitment" parameterType="CompanyRecruit"><!-- 招聘信息审核 -->
		update message set cmpRecStatus=#{cmpRecStatus} where id=#{id}
	</update>
	
	<update id="maIntegerainAdmin" parameterType="Admin"><!-- 信息维护改 -->
		update admin set adminName=#{adminEmail}，adminTel=#{adminTel}，adminEmail=#{adminEmail} where id=#{id}
	</update>
	
	<!--查询普通用户状态  -->
	<select id="findUser">
		select * from user  #{pageOffSet},10 order by
	</select>
	<!-- 查询企业用户状态 -->
	<select id="findCompany">
		select * from  company #{pageOffSet},10 order by
	</select>
	
	<select id="findAuditResume" resultType="Resume"><!-- 查询简历审核 -->
		select * from resume where<!-- 状态字段待定 -->  order by
	</select>
	
	<select id="findAuditArticle" resultType="Article"><!-- 查询文章审核 -->
		select * from article where articleStatus=1 
		<if test="page!=null">
			limit #{page},10
		</if>
		order by articleTime
	</select>
	
	<select id="findAuditCommentsArticle" resultType="CommentArticle"><!-- 查询文章评论审核 -->
		select * from commentArticle where commentArticleStatus=1 
		<if test="page!=null">
			limit #{page},10
		</if>
		order by commentArticleTime
	</select>
	
	<select id="auditCompany" resultType="Company"><!-- 查询企业资质审核 -->
		select * from companyIntroduvtion where cmpIntStatus=1 
		<if test="page!=null">
			limit #{page},10
		</if>
		order by companyId
	</select>
	
	<select id="findAuditCommentsCompanyAndPeople" resultType="Discuss"><!-- 查询个人企业互评论审核 -->
		select * from discuss where discussStatus=1 order by discussTime
		<if test="page!=null">
			limit #{page},10
		</if>
	</select>
	
	<select id="findAuditInfo" resultType="Article"><!-- 查询新闻审核 -->
		select * from article where articleStatus=1 order by articleTime
		<if test="page!=null">
			limit #{page},10
		</if>
	</select>
	
	<select id="findAuditOffer" resultType="Message"><!-- 查询offer审核 -->
		select * from message where messageSendStatus=1 order by messageSendTime
		<if test="page!=null">
			limit #{page},10
		</if>
	</select>
	
	<select id="findAuditRecruitment" resultType="CompanyRecruit"><!-- 查询招聘信息审核 -->
		select * from message where cmpRecStatus=1 order by cmpRecTime
		<if test="page!=null">
			limit #{page},10
		</if>
	</select>
	
	<select id="findByAdminId" resultType="Admin" parameterType="Admin"><!-- 信息维护查询 -->
		select * from admin where id=#{id}
		<if test="page!=null">
			limit #{page},10
		</if>
	</select>
	
	<!--热门文章 -->
	<select id="findBestArticle" resultType="Article">
		select top 10 * from article order by articleReadNum desc  
	</select>
	<!--最佳企业id -->
	<select id="findCompanyId" resultType="Integer">
		select top 10 discusUsersType from discuss group by(discusUsersType); 
	</select>
	<!-- 找到企业 -->
	<select id="findCompanyById" parameterType="Integer" resultType="Company">
		select * from company where companyLoginId=#{companyLoginId}
	</select>
</mapper>